<!doctype html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115813592-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-115813592-2');
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <title>Customer Churn Predictor</title>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/styles.css">
  </head>

<body>

   <header>

    <nav id="header-nav" class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
              <h1>Customer Churn Predictor</h1>
        </div><!-- END navbar-header -->

      </div>  <!-- END conntainer -->
      <div style="margin-left:20px;">Using a telecom company dataset as an example</div>

    </nav>
  </header>



 <div>
     <div id="introduction" class="white-boxes container-fluid " >
      <h2  class="text-center"> INTRODUCTION</h2>
         <p class="content-text-center bold"><span> This application is to predict the customer churning probability. <br><br>
             Customer churning refers to a customer ending a business relation with the service providing company, e.g. unsubscribing from a plan or canceling an enrollment. <br><br>
             If the company can predict the high-risk customer, then action can be taken to maintain the business relation with them. <br><br>
             To use this predictor, fill the basic information survey of the customer to start with.<br><br>
             </span></p>
         <form method="post" >
         <div class="button text-center">
         <button  type="submit" class="btn btn-success btn-lg" name="submit" value="start"> Start </button>
         </div>
         </form>
     </div>
     {% if started %}
     <div id="survey" class="white-boxes container-fluid " >
      <h2  class="text-center" > INFORMATION OF THE CUSTOMER</h2>
            <form method="post" >
                    <p class="content-text-center bold shades"><span class="question">What is the customer's gender?</span> <br>
                        <input type="radio" name="gender" value="male" checked> Male
                        <input type="radio" name="gender" value="female" > Female
                    </p>

                    <p class="content-text-center bold shades2" ><span class="question">Is he/she a senior citizen? </span> <br>
                        <input type="radio" name="seniorCitizen" value="1" checked> Yes
                        <input type="radio" name="seniorCitizen" value="0"> No
                    </p>

                    <p class="content-text-center bold shades" ><span class="question">Does he/she have partner?</span> <br>
                        <input type="radio" name="partner" value="Yes" checked> Yes
                        <input type="radio" name="partner" value="No"> No
                    </p>

                    <p class="content-text-center bold shades2" ><span class="question">Does he/she have Dependents?</span> <br>
                        <input type="radio" name="dependents" value="Yes" checked> Yes
                        <input type="radio" name="dependents" value="No"> No
                    </p>

                    <p class="content-text-center bold shades" ><span class="question">How long has he/she been with us (in months)?</span> <br>
                        <select name="tenure" id="tenure" class="text-dropdown">
                             {% for i in range(0, 100) %}
                                <option value="{{i}}">{{i}}</option>
                             {% endfor %}
                        </select>
                    </p>

                    <p class="content-text-center bold shades2"><span class="question">Does he/she have Phone Service?</span> <br>
                        <input type="radio" name="phoneService" value="Yes"> Yes
                        <input type="radio" name="phoneService" value="No" checked> No
                    </p>
                    <p class="content-text-center bold shades"><span class="question">Does he/she have multiple lines?</span> <br>
                        <input type="radio" name="multipleLines" value="Yes"> Yes
                        <input type="radio" name="multipleLines" value="No"> No
                        <input type="radio" name="multipleLines" value="No phone service" checked> No Phone Service
                    </p>

                    <p class="content-text-center bold shades2"><span class="question">What's his/her Internet Service?</span> <br>
                        <input type="radio" name="internetService" value="DSL"> DSL
                        <input type="radio" name="internetService" value="Fiber optic"> Fiber optic
                        <input type="radio" name="internetService" value="No" checked> No Internet Service
                    </p>

                    <p class="content-text-center bold shades"><span class="question">Does he/she have online security?</span> <br>
                        <input type="radio" name="onlineSecurity" value="Yes"> Yes
                        <input type="radio" name="onlineSecurity" value="No"> No
                        <input type="radio" name="onlineSecurity" value="No Internet Service" checked> No Internet Service
                    </p>

                    <p class="content-text-center bold shades2"><span class="question">Does he/she have online backup?</span> <br>
                        <input type="radio" name="onlineBackup" value="Yes"> Yes
                        <input type="radio" name="onlineBackup" value="No"> No
                        <input type="radio" name="onlineBackup" value="No Internet Service"  checked> No Internet Service
                    </p>
                    <p class="content-text-center bold shades"><span class="question">Does he/she have device protection?</span> <br>
                        <input type="radio" name="deviceProtection" value="Yes"> Yes
                        <input type="radio" name="deviceProtection" value="No"> No
                        <input type="radio" name="deviceProtection" value="No Internet Service" checked> No Internet Service
                    </p>
                    <p class="content-text-center bold shades2"><span class="question">Does he/she have techSupport?</span> <br>
                        <input type="radio" name="techSupport" value="Yes"> Yes
                        <input type="radio" name="techSupport" value="No"> No
                        <input type="radio" name="techSupport" value="No Internet Service" checked> No Internet Service
                    </p>
                    <p class="content-text-center bold shades"><span class="question">Does he/she have streaming TV?</span> <br>
                        <input type="radio" name="streamingTV" value="Yes"> Yes
                        <input type="radio" name="streamingTV" value="No"> No
                        <input type="radio" name="streamingTV" value="No Internet Service" checked> No Internet Service
                    </p>
                    <p class="content-text-center bold shades2"><span class="question">Does he/she have streaming movie?</span> <br>
                        <input type="radio" name="streamingMovie" value="Yes"> Yes
                        <input type="radio" name="streamingMovie" value="No"> No
                        <input type="radio" name="streamingMovie" value="No Internet Service" checked> No Internet Service
                    </p>

                <p class="content-text-center bold shades"><span class="question">What's his/her contract type? </span><br>
                        <select name="contract" id="contract" class="text-dropdown">
                            <option value="Month-to-month">month to month</option>
                            <option value="oneYear">One year</option>
                            <option value="twoYear">Two year</option>
                        </select>
                    </p>

                    <p class="content-text-center bold shades2"><span class="question"> Is it paperless billing? </span> <br>
                        <input type="radio" name="paperlessBilling" value="Yes" checked> Yes
                        <input type="radio" name="paperlessBilling" value="No"> No
                    </p>

                    <p class="content-text-center bold shades"><span class="question">What's the payment method? </span><br>
                        <select name="paymentMethod" id="paymentMethod" class="text-dropdown">
                            <option value="Electronic check">electronic check</option>
                            <option value="Mailed check">mailed check</option>
                            <option value="Bank transfer (automatic)">bank transfer (automatic)</option>
                            <option value="Credit card (automatic)">credit card (automatic)</option>

                        </select>
                    </p>
                <p class="content-text-center bold shades2"> <span class="question">What's the monthly charges? </span><br>
                        <input type="number" min="1" max="1000" name = "monthlyCharges" value="1" class="user-input">
                    </p>
                <p class="content-text-center bold shades"> <span class="question">What's the total charges? </span><br>
                        <input type="number" min="1" max="10000" name = "totalCharges" value="1" class="user-input">
                    </p>
                <div class="button text-center col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <br>
                     <button  type="submit" class="btn btn-success btn-lg" name="submit" value="predict"> Predict </button>
                </div>
            </form>
     </div>

         {% if submitted %}

         <div class="white-boxes container-fluid">
          <h2  id="predictionResult" class="text-center"> PREDICTION RESULT</h2>

             <p class="content-text-center ">
                 <span >The probability of this the customer churning is:</span> <br><br>
             </p>
             {% if proba > 50%}
             <p id="probability" class="text-center" style="color:red; font-size:60px;"> {{proba}} % </p>
             <p class="content-text-center question">
                 <span  style="color:red;">The customer is {{ answer}}.</span> <br><br>
             </p>
             {% else %}
             <p id="probability2" class="text-center" style="color:green; font-size:60px;"> {{proba}} % </p>
             <p class="content-text-center question">
                 <span >The customer is {{ answer}}.</span> <br><br>
             </p>
             {% endif%}



             <form method="post">
                 <div class="button text-center">
                 <button type="submit" class="btn btn-success btn-lg" name = "submit" value="analysis"> See Brief Explanations </button>
                 </div>
             </form>


         </div>
         {% endif %}
     {% endif %}




 </div>


  
  <!-- jQuery (Bootstrap JS plugins depend on it) -->
  <script src="js/jquery-1.11.3.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/script.js"></script>
</body>
</html>
